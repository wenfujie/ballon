(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-093d6aff"],{1347:function(s,e,t){},2143:function(s,e,t){s.exports=t.p+"img/success.5e63e7cf.png"},"5ff5":function(s,e,t){"use strict";var r=t("1347"),o=t.n(r);o.a},b970:function(s,e,t){"use strict";t.r(e);var r=function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("div",{staticClass:"safe-collection"},[r("div",{staticClass:"safe-top bg-color-gray color-balck"},[s._v(s._s(s.$t("setPassword.changePassword")))]),r("div",{directives:[{name:"show",rawName:"v-show",value:0==this.success,expression:"this.success==false"}],staticClass:"safe-content"},[r("el-form",{directives:[{name:"show",rawName:"v-show",value:this.getpassword,expression:"this.getpassword"}],ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:s.ruleForm2,rules:s.rules2,"label-width":"100px"}},[r("el-form-item",{attrs:{label:s.$t("setPassword.oldPassword"),prop:"oldPassword"}},[r("el-input",{attrs:{type:s.pswInputType1,autocomplete:"off",placeholder:s.$t("setPassword.passwordTips"),maxlength:"20"},nativeOn:{keydown:function(e){return e.type.indexOf("key")||32===e.keyCode?s.keydownEvent(e):null}},model:{value:s.ruleForm2.oldPassword,callback:function(e){s.$set(s.ruleForm2,"oldPassword",e)},expression:"ruleForm2.oldPassword"}},[r("i",{class:["iconfont","icon-baomi1",{"icon-xianshi":"text"==s.pswInputType1}],attrs:{slot:"suffix"},on:{click:function(e){return s.changePswState("pswInputType1")}},slot:"suffix"})])],1),r("el-form-item",{attrs:{label:s.passName,prop:"newPassword"}},[r("el-input",{attrs:{type:s.pswInputType2,autocomplete:"off",placeholder:s.$t("setPassword.passwordTips"),maxlength:"20"},nativeOn:{keydown:function(e){return e.type.indexOf("key")||32===e.keyCode?s.keydownEvent(e):null}},model:{value:s.ruleForm2.newPassword,callback:function(e){s.$set(s.ruleForm2,"newPassword",e)},expression:"ruleForm2.newPassword"}},[r("i",{class:["iconfont","icon-baomi1",{"icon-xianshi":"text"==s.pswInputType2}],attrs:{slot:"suffix"},on:{click:function(e){return s.changePswState("pswInputType2")}},slot:"suffix"})])],1),r("el-form-item",{attrs:{label:s.$t("setPassword.checkPassword"),prop:"checkPassword"}},[r("el-input",{attrs:{type:s.pswInputType3,autocomplete:"off",placeholder:s.$t("setPassword.passwordTips"),maxlength:"20"},nativeOn:{keydown:function(e){return e.type.indexOf("key")||32===e.keyCode?s.keydownEvent(e):null}},model:{value:s.ruleForm2.checkPassword,callback:function(e){s.$set(s.ruleForm2,"checkPassword",e)},expression:"ruleForm2.checkPassword"}},[r("i",{class:["iconfont","icon-baomi1",{"icon-xianshi":"text"==s.pswInputType3}],attrs:{slot:"suffix"},on:{click:function(e){return s.changePswState("pswInputType3")}},slot:"suffix"})])],1),r("el-form-item",[r("el-button",{class:s.isOk?"submits":"unSubmits",attrs:{type:"primary"},on:{click:function(e){return s.submitForm("ruleForm2")}}},[s._v(s._s(s.$t("setPassword.submit")))])],1)],1),r("el-form",{directives:[{name:"show",rawName:"v-show",value:!this.getpassword,expression:"!this.getpassword"}],ref:"ruleForm1",staticClass:"demo-ruleForm1",attrs:{model:s.ruleForm1,rules:s.rules1,"label-width":"100px"}},[r("el-form-item",{attrs:{label:s.passName,prop:"setPassword"}},[r("el-input",{attrs:{type:s.pswInputType2,autocomplete:"off",placeholder:s.$t("setPassword.passwordTips"),maxlength:"20"},nativeOn:{keydown:function(e){return e.type.indexOf("key")||32===e.keyCode?s.keydownEvent(e):null}},model:{value:s.ruleForm1.setPassword,callback:function(e){s.$set(s.ruleForm1,"setPassword",e)},expression:"ruleForm1.setPassword"}},[r("i",{class:["iconfont","icon-baomi1",{"icon-xianshi":"text"==s.pswInputType2}],attrs:{slot:"suffix"},on:{click:function(e){return s.changePswState("pswInputType2")}},slot:"suffix"})])],1),r("el-form-item",{attrs:{label:s.$t("setPassword.checkPassword"),prop:"againPassword"}},[r("el-input",{attrs:{type:s.pswInputType3,autocomplete:"off",placeholder:s.$t("setPassword.passwordTips"),maxlength:"20"},nativeOn:{keydown:function(e){return e.type.indexOf("key")||32===e.keyCode?s.keydownEvent(e):null}},model:{value:s.ruleForm1.againPassword,callback:function(e){s.$set(s.ruleForm1,"againPassword",e)},expression:"ruleForm1.againPassword"}},[r("i",{class:["iconfont","icon-baomi1",{"icon-xianshi":"text"==s.pswInputType3}],attrs:{slot:"suffix"},on:{click:function(e){return s.changePswState("pswInputType3")}},slot:"suffix"})])],1),r("el-form-item",[r("el-button",{class:s.isOk?"submits":"unSubmits",attrs:{type:"primary"},on:{click:function(e){return s.submitForm1("ruleForm1")}}},[s._v(s._s(s.$t("setPassword.submit")))])],1)],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:1==this.success,expression:"this.success==true"}],staticClass:"alter-status"},[r("img",{attrs:{src:t("2143")}}),r("p",{staticClass:"title"},[s._v(s._s(s.setResult))]),r("p",{staticClass:"location"},[s._v(s._s(s.$t("setPassword.successTips")))])])])},o=[],a=t("22ce"),n=(t("393c"),t("1115"),t("19e7")),i=t.n(n),l={data:function(){var s=this,e=function(e,t,r){if(""===t)r(new Error(s.$t("setPassword.inputPass")));else if(i()(s.ruleForm2.oldPassword)!==s.getpassword.toLowerCase())r(new Error(s.$t("setPassword.errorPass")));else if(checkPasswdLevel(t)<2)r(new Error(s.$t("setPassword.errorTips")));else{var o=/^(?![a-zA-z]+$)(?!\d+$)(?![!@#$%^&*_.]+$)[a-zA-Z\d!@#$%^&*_.]+$/;if(!o.exec(t))return r(new Error(s.$t("setPassword.specialCharacter")));r()}},t=function(e,t,r){if(console.log(22222),""===t)r(new Error(s.$t("setPassword.inputPass")));else if(t===s.ruleForm2.oldPassword)r(new Error(s.$t("setPassword.passDisaffinity")));else if(checkPasswdLevel(t)<2)r(new Error(s.$t("setPassword.errorTips")));else{var o=/^(?![a-zA-z]+$)(?!\d+$)(?![!@#$%^&*_.]+$)[a-zA-Z\d!@#$%^&*_.]+$/;if(!o.exec(t))return r(new Error(s.$t("setPassword.specialCharacter")));r()}},r=function(e,t,r){if(console.log(t,"1111"),""===t)r(new Error(s.$t("setPassword.againPass")));else{if(t===s.ruleForm2.newPassword)return r();r(new Error(s.$t("setPassword.enterPassDiff")))}},o=function(e,t,r){if(""==t)r(new Error(s.$t("setPassword.againPass")));else{if(s.ruleForm1.setPassword!==s.ruleForm1.againPassword)return r(new Error(s.$t("setPassword.enterPassDiff")));if(checkPasswdLevel(t)<2)r(new Error(s.$t("setPassword.errorTips")));else{var o=/^(?![a-zA-z]+$)(?!\d+$)(?![!@#$%^&*_.]+$)[a-zA-Z\d!@#$%^&*_.]+$/;if(!o.exec(t))return r(new Error(s.$t("setPassword.specialCharacter")));r()}}};return{ruleForm2:{oldPassword:"",newPassword:"",checkPassword:""},rules2:{oldPassword:[{validator:e,trigger:"blur"}],newPassword:[{validator:t,trigger:"blur"}],checkPassword:[{validator:r,trigger:"blur"}]},ruleForm1:{setPassword:"",againPassword:""},rules1:{setPassword:[{validator:t,trigger:"blur"}],againPassword:[{validator:o,trigger:"blur"}]},getpassword:"",success:!1,passName:this.$t("setPassword.newPassword"),setResult:"",pswInputType1:"password",pswInputType2:"password",pswInputType3:"password",isOk:!1}},watch:{ruleForm2:{handler:function(s){this.ruleForm2.oldPassword.length>1&&this.ruleForm2.newPassword.length>1&&this.ruleForm2.checkPassword.length>1?this.isOk=!0:this.isOk=!1},deep:!0},ruleForm1:{handler:function(s){this.ruleForm1.setPassword.length>1&&this.ruleForm1.againPassword.length>1?this.isOk=!0:this.isOk=!1},deep:!0}},methods:{keydownEvent:function(s){return s.preventDefault(),!1},changePswState:function(s){console.log(2111),this[s]="password"==this[s]?"text":"password"},getPhone:function(){var s=this,e={};a["l"].getUserInfo(e).then(function(e){s.getName=e.usrName})},getOldPassword:function(){var s=this,e={companyId:Storage.get("COMPANYID").company_id,usrId:Storage.get("USER_INFO").usrId,ownCompanyId:Storage.get("COMPANYID").company_id};a["l"].getPassword(e).then(function(e){s.getpassword=e.password,s.getpassword||(s.passName=s.$t("setPassword.setsPassword"))})},submitForm:function(s){var e=this;this.getpassword&&this.$refs[s].validate(function(s){if(!s)return!1;var t={oldPwd:i()(e.ruleForm2.oldPassword).toUpperCase(),newPwd:i()(e.ruleForm2.newPassword).toUpperCase(),affNewPwd:i()(e.ruleForm2.checkPassword).toUpperCase(),usrId:Storage.get("USER_INFO").usrId,companyId:Storage.get("COMPANYID").company_id};a["l"].changePassword(t).then(function(s){1===s&&(e.setResult="修改密码成功",e.success=!0,setTimeout(function(){e.$router.push("/safe-list")},3e3))})})},submitForm1:function(s){var e=this;this.$refs[s].validate(function(s){if(!s)return!1;var t={password:i()(e.ruleForm1.setPassword).toUpperCase(),loginName:e.getName,usrId:Storage.get("USER_INFO").usrId,fnCode:"D_LOGINPWD",companyId:Storage.get("COMPANYID").company_id};a["l"].setPassword(t).then(function(s){e.setResult="设置密码成功",e.success=!0,setTimeout(function(){e.$router.push("/safe-list")},3e3)})})}},created:function(){this.getOldPassword(),this.getPhone()}},u=l,d=(t("5ff5"),t("2877")),c=Object(d["a"])(u,r,o,!1,null,"1172bb3a",null);e["default"]=c.exports}}]);